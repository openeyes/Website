<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Dropdown based on ideas from From: http://www.jankoatwarpspeed.com/post/2009/07/28/reinventing-drop-down-with-css-jquery.aspx -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>OpenEyes</title>
	
	<!-- CSS -->
	<link rel="stylesheet" href="../../css/openeyes.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="styles.css" type="text/css" media="screen" />
	
	<!-- Styles for image drop down -->
	<style type="text/css">        
        body { font-family:Arial, Helvetica, Sans-Serif; font-size:0.75em; color:#000;}
        .desc { color:#6b6b6b;}
        .desc a {color:#0092dd;}
        
        /* Drop down list */
        .dropdown dd, .dropdown dt, .dropdown ul { margin:0px; padding:0px; }
        .dropdown dd { position:relative; left: 42px;}
        
        
        .dropdown a, .dropdown a:visited { color:#816c5b; text-decoration:none; outline:none;}
        .dropdown a:hover { color:#5d4617;}
        .dropdown dt a:hover { color:#5d4617; border: 1px solid #d0c9af;}
        .dropdown dt a {background:#e4dfcb url(arrow.png) no-repeat scroll right center; display:block; padding-right:20px;
                        border:1px solid #d4ca9a; width:150px;}
        .dropdown dt a span {cursor:pointer; display:block; padding:5px;}
        .dropdown dd ul { background:#e4dfcb none repeat scroll 0 0; border:1px solid #d4ca9a; color:#C5C0B0; display:none;
                          left:0px; padding:5px 0px; position:absolute; top:2px; width:auto; min-width:170px; list-style:none;}
        .dropdown span.value { display:none;}
        .dropdown dd ul li a { padding:5px; display:block;}
        .dropdown dd ul li a:hover { background-color:#d0c9af;}
        
        /* Arrow image to simulate select element */
        .dropdown img.arrows { top: -20px; position: relative; float: right; border:none; vertical-align:middle; margin-left:10px; width:16px;}
        
        /* Span containing review image */
        .popup { position: absolute; display:block;}
        
        
    </style>

    <!--   Javascript  -->	
	<script language="JavaScript" src="../../scripts/elements.js" type="text/javascript"></script>
	
	<!-- JQuery -->
<!--
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
-->
	<script src="../../scripts/jquery.min.js"></script>
	<script src="../../scripts/jquery-ui.min.js"></script>
	

    <script type="text/javascript">
                            
        // Runs on page load
        function init()
        {
        }
        
        // Index of selected li in dropdown
        var selectedIndex = 0;
        
        // Runs on page load
        $(document).ready(function()
        {
        	// Runs on clicking menu header
            $(".dropdown dt a").click(function()
            {
                // Construct string to describe corresponding UL
                var list = "#" + $(this).attr('id') + "List";
                
                // Adjust position of menu so that selected li corresponds to displayed one
                var offset = 9;
                var increment = 24;
                var pos = (selectedIndex + 1) * increment + offset;
                var top = '-' + pos.toString() + 'px';
                $(list).parent().css({ 'top': top});
                
                // Image has absolute positioning (so as to overlap other elements). Set position relative to menu here
                //$("#centralImage").
                var ddLeft = parseInt($(".dropdown dd").css('left')) + 180;
                var left = ddLeft.toString() + 'px';
                $("#centralImage").css({'left': left});
                
                // Toggle visibility of menu and image
                $(list).toggle();
                $("#centralImage").toggle();
                
                // Prevent page scrolling to top
                return false;
            });
            
            // Runs on clicking a dropdown menu item     
            $(".dropdown dd ul li a").click(function()
            {
                // Get value of selected option
                //console.log($(this).parent().parent().attr('id'));
                var value = $(this).children('span')[0].innerHTML;
                var display = $(this).html();
                
                // Determine selected index (***TODO***) this only works because values are numeric and consecutive
                selectedIndex = parseInt(value) - 1;
                
                // Store selected value
                $("#result").html("Selected value is: " + value);
                
                // Get id of enclosing 'ul' element
                var list = "#" + $(this).parent().parent().attr('id');

                // Change string to point to value of menu
                list = list.replace("List", "Value");

                // Put selected value as text of menu header
                $(list).html(display);   
                                
                // Hide options and image
                $(".dropdown dd ul").hide();
                $("#centralImage").hide();
                
                // Prevent page scrolling to top
                return false;          
            });
            
            // Runs on clicking a dropdown menu item     
            $(".dropdown dd ul li a").hover(function()
            {
                // Get value of option under hover
                var value = $(this).children('span')[0].innerHTML;
                
                // Construct string with src of corresponding image
                var src = "images/blebCentral_" + value.toString() + ".png";
                
                // Change source of popup
                $("#centralImage img").attr("src", src);
          
                // Prevent page scrolling to top
                return false;          
            });

        });

    </script>

</head>

<body onload="init();">
<div id="screen" align="center">
	<div id="content">

		<!-- Logo -->
		<img id="logo" src="../../images/OpenEyes_logo.png" align="left" alt="OpenEyes - an open source electronic patient record" />
		
		<!-- Navigation bar -->
		<div id="main_nav">
			<ul>
				<li><a id="home" href="../../index.html">Home</a></li>
				<li><a id="news" href="../../news.html">News</a></li>
				<li><a id="screenshots" href="../../screenshots.html">Screenshots</a></li>
				<li><a id="documentation" href="../../documentation.html">Documentation</a></li>
				<li><a id="contributors" href="../../contributors.html">Contributors</a></li>
				<li><a id="development_selected" href="../../development.html">Development</a></li>
				<li><a id="contact" href="../../contact.html">Contact us</a></li>
			</ul>
		</div>
		
		<!-- Element Title and Description -->
		<h2>Bleb assessment</h2>
		<div class="section">
			<h4>Description:</h4>
			<p></p>
			<p>Status: <b>Alpha</b></p>
		</div>

		<!-- Edit mode section -->
		<div class="section" style="height:330px;" align="left">
			<h4>Edit mode:</h4>
			
			<p>Right bleb assessment:</p>
			
			<dl class="dropdown">
	        	<dt><a id="central" href="#"><span id="centralValue" title="Click to change selection">No value</span><img class="arrows" src="arrows.gif" alt="" /></a></dt>
		        <dd id="test">
		            <ul id="centralList">
		                <li><a href="#">One<span class="value">1</span></a></li>
		                <li><a href="#">Two<span class="value">2</span></a></li>
		                <li><a href="#">Three<span class="value">3</span></a></li>
		                <li><a href="#">Four<span class="value">4</span></a></li>
		                <li><a href="#">Five<span class="value">5</span></a></li>						                				
		            </ul>
		        </dd>
		    	<!-- span containing image corresponding to selection -->
				<span id='centralImage' class="popup">
					<img width=200 src="images/blebCentral_1.png">
				</span>
	    	</dl>
	    	

	    	
	    	<span id="result"></span></br>

			<select onfocus="console.log('onfocus');" onchange="console.log('onchange');" onblur="console.log('onblur');">
			  <option value="volvo">Volvo</option>
			  <option value="saab">Saab</option>
			  <option value="opel">Opel</option>
			  <option value="audi">Audi</option>
			</select>
    					
		<!-- End of Edit mode section -->
		</div>					

		<!-- Display mode section -->
		<div class="section" style="height:100px;" align="left">
			<h4>Display mode:</h4>
			
		<!-- End of Display mode section -->
		</div>	

		<!-- Steering Group -->			
		<div class="section" align="left">
			<h4>Steering Group:</h4>
			<p>General</p>
		</div>
		
		<!-- Blank Line -->
		<div class="section">
		</div>

	</div>
</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26543772-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
